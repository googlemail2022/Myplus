<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google+ ĞšĞ»Ğ¾Ğ½ Ñ Firebase</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 h-screen flex flex-col">

  <!-- Ğ’ĞµÑ€Ñ…Ğ½ÑÑ ĞºÑ€Ğ°ÑĞ½Ğ°Ñ ÑˆĞ°Ğ¿ĞºĞ° -->
  <header class="bg-red-600 text-white p-4 flex items-center justify-between shadow-md">
    <h1 class="text-xl font-bold">My+</h1>
  </header>

  <!-- ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ -->
  <main class="flex-1 overflow-auto p-4 relative">

    <!-- Ğ’ĞºĞ»Ğ°Ğ´ĞºĞ° Ğ›ĞµĞ½Ñ‚Ğ° -->
    <div id="tab-feed">

      <!-- ĞšÑ€ÑƒĞ¶ĞºĞ¸ -->
      <div class="flex space-x-2 mb-4 overflow-x-auto">
        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">ğŸ¨</div>
        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">ğŸ€</div>
        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">ğŸ“š</div>
        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">ğŸµ</div>
        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">ğŸ’»</div>
      </div>

      <!-- Ğ›ĞµĞ½Ñ‚Ğ° Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² -->
      <div id="feed" class="space-y-4"></div>

      <!-- ĞŸĞ»Ğ°Ğ²Ğ°ÑÑ‰Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ° -->
      <button id="newPostBtn" class="fixed bottom-24 right-6 bg-red-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-2xl hover:bg-red-700">âœï¸</button>
    </div>

    <!-- Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ¸ Ğ´Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ²ĞºĞ»Ğ°Ğ´Ğ¾Ğº -->
    <div id="tab-collections" class="hidden"><p class="text-gray-600">ĞŸĞ¾Ğ´Ğ±Ğ¾Ñ€ĞºĞ¸</p></div>
    <div id="tab-communities" class="hidden"><p class="text-gray-600">Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°</p></div>
    <div id="tab-notifications" class="hidden"><p class="text-gray-600">ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ</p></div>

  </main>

  <!-- ĞĞ¸Ğ¶Ğ½ÑÑ ÑĞµÑ€Ğ°Ñ Ñ‡ĞµÑ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸ -->
  <footer class="bg-gray-200 p-2 flex justify-around shadow-inner">
    <button class="tab-bottom" data-tab="feed">Ğ›ĞµĞ½Ñ‚Ğ°</button>
    <button class="tab-bottom" data-tab="collections">ĞŸĞ¾Ğ´Ğ±Ğ¾Ñ€ĞºĞ¸</button>
    <button class="tab-bottom" data-tab="communities">Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°</button>
    <button class="tab-bottom" data-tab="notifications">ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ</button>
  </footer>

  <!-- Firebase SDK Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
    import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp, query, orderBy } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

    // ===== Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ÑÑĞ´Ğ° ÑĞ²Ğ¾Ğ¹ firebaseConfig =====
    const firebaseConfig = {
      apiKey: "AIzaSyA7Xz5QiY_bq1L26ZnoAy5oj0a8l-DRVo4",
      authDomain: "fggda-4abaf.firebaseapp.com",
      databaseURL: "https://fggda-4abaf-default-rtdb.firebaseio.com",
      projectId: "fggda-4abaf",
      storageBucket: "fggda-4abaf.firebasestorage.app",
      messagingSenderId: "244641712781",
      appId: "1:244641712781:web:dbc379fe6573e85c9130c4",
      measurementId: "G-2BX454Q8JP"
    };
    // ============================================

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const feed = document.getElementById('feed');
    const newPostBtn = document.getElementById('newPostBtn');

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ğ°
    newPostBtn.addEventListener('click', async () => {
      const text = prompt('ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ¿Ğ¾ÑÑ‚:');
      if(text){
        await addDoc(collection(db, "posts"), {
          text,
          author: "Ğ’Ñ‹",
          createdAt: serverTimestamp()
        });
      }
    });

    // ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
    const q = query(collection(db, "posts"), orderBy("createdAt", "desc"));
    onSnapshot(q, snapshot => {
      feed.innerHTML = "";
      snapshot.forEach(doc => {
        const data = doc.data();
        const div = document.createElement('div');
        div.className = "bg-white p-4 rounded-lg shadow-md";
        div.innerHTML = `
          <p class="font-semibold">${data.author}</p>
          <p class="text-sm text-gray-500 mb-2">${data.createdAt?.seconds ? new Date(data.createdAt.seconds*1000).toLocaleString() : ''}</p>
          <p>${data.text}</p>
        `;
        feed.appendChild(div);
      });
    });

    // ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ²ĞºĞ»Ğ°Ğ´Ğ¾Ğº
    const tabs = document.querySelectorAll('.tab-bottom');
    const tabContents = {
      feed: document.getElementById('tab-feed'),
      collections: document.getElementById('tab-collections'),
      communities: document.getElementById('tab-communities'),
      notifications: document.getElementById('tab-notifications'),
    };
    tabs.forEach(btn => {
      btn.addEventListener('click', () => {
        Object.values(tabContents).forEach(c => c.classList.add('hidden'));
        tabContents[btn.dataset.tab].classList.remove('hidden');
      });
    });
  </script>

</body>
</html> 